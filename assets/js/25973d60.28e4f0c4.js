"use strict";(globalThis.webpackChunkuniqueui=globalThis.webpackChunkuniqueui||[]).push([[703],{892:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>c});const d=JSON.parse('{"id":"UI Components/UiRoot","title":"UiRoot","description":"The root container for all UI elements in UniqueUI.","source":"@site/docs/UI Components/UiRoot.md","sourceDirName":"UI Components","slug":"/UI Components/UiRoot","permalink":"/unique-ui/docs/UI Components/UiRoot","draft":false,"unlisted":false,"editUrl":"https://github.com/manuel-di-iorio/unique-ui/tree/main/docs/docs/UI Components/UiRoot.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"documentationSidebar","previous":{"title":"Getting Started","permalink":"/unique-ui/docs/intro"},"next":{"title":"UiNode","permalink":"/unique-ui/docs/UI Components/UiNode"}}');var l=s(4848),o=s(8453);const i={sidebar_position:1},r=void 0,t={},c=[{value:"Focus System",id:"focus-system",level:2},{value:"Making Elements Focusable",id:"making-elements-focusable",level:3},{value:"Handling Focus Events",id:"handling-focus-events",level:3},{value:"Programmatic Control",id:"programmatic-control",level:3},{value:"<code>global.UI.focusNext()</code>",id:"globaluifocusnext",level:4},{value:"<code>global.UI.focusPrevious()</code>",id:"globaluifocusprevious",level:4},{value:"<code>global.UI.hasAnyFocus()</code>",id:"globaluihasanyfocus",level:4},{value:"<code>global.UI.clearAllFocused()</code>",id:"globaluiclearallfocused",level:4},{value:"Keyboard Navigation",id:"keyboard-navigation",level:3},{value:"Focus Logic",id:"focus-logic",level:3}];function a(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["The root container for all UI elements in ",(0,l.jsx)(n.strong,{children:"UniqueUI"}),".",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.code,{children:"UiRoot"})," manages the top-level node hierarchy, event dispatching, and rendering order.",(0,l.jsx)(n.br,{}),"\n","It acts as the entry point for your entire interface, typically stored in a global variable like ",(0,l.jsx)(n.code,{children:"global.UI"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Constructor"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"new UiRoot()\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:"Creates a new root node responsible for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Storing all top-level UI nodes."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Managing mouse and keyboard events."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Handling redraw requests (needsRedraw flag)."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Managing layout and rendering through GameMaker\u2019s flexpanel functions."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Usually, you only need one instance of UiRoot per scene or project."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Properties"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Name"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"root"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"boolean"})}),(0,l.jsxs)(n.td,{children:["Always ",(0,l.jsx)(n.code,{children:"true"})," for the root node. Used to identify the top-level container."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"needsUpdate"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"boolean"})}),(0,l.jsx)(n.td,{children:"Triggers a full layout recalculation via FlexPanel."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"needsRedraw"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"boolean"})}),(0,l.jsxs)(n.td,{children:["Marks the UI as dirty \u2014 causes re-rendering on the next ",(0,l.jsx)(n.code,{children:"render()"})," call."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"layoutUpdated"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"boolean"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"true"})," if a new layout was computed during the last ",(0,l.jsx)(n.code,{children:"update()"}),"."]})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Methods"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Method"}),(0,l.jsx)(n.th,{children:"Returns"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"setSize(w, h)"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"UiRoot"})}),(0,l.jsx)(n.td,{children:"Sets the root node\u2019s dimensions and updates the spatial tree bounds."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"update()"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsx)(n.td,{children:"Updates layout, mouse input, hover detection, drag events, and dispatches UI events. Should be called every step."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"render(debug = false)"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsxs)(n.td,{children:["Renders the UI tree to an internal surface and draws it to the screen. If ",(0,l.jsx)(n.code,{children:"debug = true"}),", draws element bounds and names."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"requestUpdate(element?)"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsxs)(n.td,{children:["Marks the UI (or a specific element) as needing a layout update on the next ",(0,l.jsx)(n.code,{children:"update()"})," call."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"requestRedraw(element?)"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsxs)(n.td,{children:["Marks the UI (or a specific element) as needing a redraw on the next ",(0,l.jsx)(n.code,{children:"render()"})," call."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"focusNext()"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsx)(n.td,{children:"Moves focus to the next focusable element (Tab navigation)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"focusPrevious()"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsx)(n.td,{children:"Moves focus to the previous focusable element (Shift+Tab navigation)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"clearAllFocused()"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsx)(n.td,{children:"Blurs the current focused element and clears the list of focusable elements."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"hasAnyFocus()"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"boolean"})}),(0,l.jsxs)(n.td,{children:["Returns ",(0,l.jsx)(n.code,{children:"true"})," if any element currently has focus."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"setName(name)"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"void"})}),(0,l.jsxs)(n.td,{children:["Inherited from ",(0,l.jsx)(n.code,{children:"UiNode"}),"; sets the FlexPanel node name (used in debug view)."]})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"focus-system",children:"Focus System"}),"\n",(0,l.jsx)(n.p,{children:"UniqueUI includes a built-in focus management system that handles keyboard navigation (Tab/Shift+Tab), mouse interaction, and focus events."}),"\n",(0,l.jsx)(n.h3,{id:"making-elements-focusable",children:"Making Elements Focusable"}),"\n",(0,l.jsxs)(n.p,{children:["To make a ",(0,l.jsx)(n.code,{children:"UiNode"})," capable of receiving focus, set the ",(0,l.jsx)(n.code,{children:"focusable"})," property to ",(0,l.jsx)(n.code,{children:"true"})," in its configuration or constructor."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-gml",children:"var input = new UiTextbox({\n    width: 200,\n    height: 30\n}, {\n    focusable: true // Enable focus\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"handling-focus-events",children:"Handling Focus Events"}),"\n",(0,l.jsxs)(n.p,{children:["You can respond to focus changes using the ",(0,l.jsx)(n.code,{children:"onFocus"})," and ",(0,l.jsx)(n.code,{children:"onBlur"})," callbacks on any ",(0,l.jsx)(n.code,{children:"UiNode"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-gml",children:'var button = new UiButton("Submit");\n\nbutton.onFocus = function() {\n    // Called when the element gains focus\n    self.borderColor = c_aqua;\n};\n\nbutton.onBlur = function() {\n    // Called when the element loses focus\n    self.borderColor = c_white;\n};\n'})}),"\n",(0,l.jsx)(n.h3,{id:"programmatic-control",children:"Programmatic Control"}),"\n",(0,l.jsxs)(n.p,{children:["The focus system is managed directly by the ",(0,l.jsx)(n.code,{children:"UiRoot"})," instance (usually ",(0,l.jsx)(n.code,{children:"global.UI"}),")."]}),"\n",(0,l.jsx)(n.h4,{id:"globaluifocusnext",children:(0,l.jsx)(n.code,{children:"global.UI.focusNext()"})}),"\n",(0,l.jsx)(n.p,{children:"Moves focus to the next available focusable element."}),"\n",(0,l.jsx)(n.h4,{id:"globaluifocusprevious",children:(0,l.jsx)(n.code,{children:"global.UI.focusPrevious()"})}),"\n",(0,l.jsx)(n.p,{children:"Moves focus to the previous focusable element."}),"\n",(0,l.jsx)(n.h4,{id:"globaluihasanyfocus",children:(0,l.jsx)(n.code,{children:"global.UI.hasAnyFocus()"})}),"\n",(0,l.jsx)(n.p,{children:"Returns whether any element in the UI currently has focus."}),"\n",(0,l.jsx)(n.h4,{id:"globaluiclearallfocused",children:(0,l.jsx)(n.code,{children:"global.UI.clearAllFocused()"})}),"\n",(0,l.jsx)(n.p,{children:"Removes focus from any currently focused element."}),"\n",(0,l.jsx)(n.h3,{id:"keyboard-navigation",children:"Keyboard Navigation"}),"\n",(0,l.jsxs)(n.p,{children:["The system automatically handles ",(0,l.jsx)(n.strong,{children:"Tab"})," navigation:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Tab"}),": Moves focus to the next focusable element."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Shift + Tab"}),": Moves focus to the previous focusable element."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"The navigation order is determined by the order in which elements are mounted (added) to the UI tree."}),"\n",(0,l.jsx)(n.h3,{id:"focus-logic",children:"Focus Logic"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Clicking"}),": Clicking on a focusable element gives it focus. Clicking on a non-focusable element (like the background) clears the focus (blurs the current element)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Visibility"}),": Hidden or disabled elements are skipped during tab navigation."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var d=s(6540);const l={},o=d.createContext(l);function i(e){const n=d.useContext(o);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),d.createElement(o.Provider,{value:n},e.children)}}}]);